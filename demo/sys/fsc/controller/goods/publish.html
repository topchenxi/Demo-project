<h1>发布新商品</h1>
<div class="alert alert-info">
  当前已选择的产品类目：
  <a ng-repeat="ctg in tools.ctgrys | orderBy:order" onclick="todo(ctg.id)">{{ctg.name}}<span ng-if="$index < tools.ctgrys.length-1">-></span></a>
  <a class="pull-right" ui-sref="goods.selectSort">返回修改类目</a>
</div>
<h3 class="add-goods-title">商品基本信息</h3>
<form ng-submit="submit()" name="goods" novalidate class="form-horizontal">
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 产品标题:</label>
    <div class="col-sm-10">
      <input type="text" name="name" placeholder="请不要输入非英文字符、数字、符号"  class="input-long"
        ng-minlength="6"
        ng-model="pro.name" required>
      <span>你还能输入{{40 - pro.name.length}}字</span>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">商品主词</label>
    <div class="col-sm-10">
      <input type="text" name="" placeholder="关键词用逗号分离" class=""
        ng-model="pro.keyword">
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 商品关键字</label>
    <div class="col-sm-10">
      <input type="text" name="" placeholder="关键词用逗号分离" class=""
        ng-model="pro.keywords" required>
      <span class="glyphicon glyphicon-info-sign" tooltip-placement="right" tooltip="关键词用逗号分离"></span>
    </div>
  </div>
  <div class="form-group" ng-if="tools.atts.length > 0">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 产品基本属性</label>
    <div class="col-sm-10">
      <p class="attr-state">设置完整的产品属性有助于买家更容易找到您的产品</p>
      <div class="condbox clearfix" ng-repeat="atts in tools.atts">
        <div class="col-sm-2 control-label">
          <span class="red">*</span>
           {{ atts.propertyChName }}:
        </div>
        <div class="col-sm-10">
          <select required class="ngAtts ngAtts-{{atts.propertyId}}">
            <option value="">--请选择--</option>
            <option ng-repeat="value in atts.propertyValues" value="{{value.propertyValueId}}">{{value.propertyValueCn}}</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group" ng-if="tools.standard.length > 0">
    <label for="" class="col-sm-2 control-label">产品规格</label>
    <div class="col-sm-10">
      <p class="attr-state">产品的不同规格，可以设置不同的零售价，并在前台展示给买家</p>
      <div class="condbox clearfix">
        <div ng-repeat="standard in tools.standard">
          <div class="col-sm-2 control-label">
            <span class="red">*</span> {{standard.propertyChName}}
          </div>
          <div class="col-sm-10">
            <label for="standard{{value.propertyValueId}}" ng-repeat="value in standard.propertyValues">
              <input type="checkbox" name="standard" id="standard{{value.propertyValueId}}"  value="{{value.propertyValueId}}" required class="ngStandard ngStandard-{{value.propertyValueId}}" >
              {{ value.propertyValueCn }}
            </label>

          </div>
        </div>
      </div>
    </div>
  </div>
  <h3 class="add-goods-title">产品销售信息</h3>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 最小批量:</label>
    <div class="col-sm-10">
      <input type="number" name="minOrder"
        class="input-80"
        ng-pattern="/^[0-9]+$/"
        ng-model="pro.minOrder">
      <select name="minOrderUnit"
      ng-model="pro.minOrderUnit"
      ng-options="unit.code as unit.name for unit in tools.unit" required>
      </select>
      <!-- <select name="minOrderUnit"
      ng-model="pro.minOrderUnit" required>
        <option ng-repeat="unit in tools.unit" value="{{unit.code}}" ng-selected="pro.minOrderUnit == unit.code">{{ unit.name }}</option>
      </select> -->
      {{pro.minOrderUnit}}
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 库存:</label>
    <div class="col-sm-10">
      <input type="number" name="" id="" placeholder="" class="input-80"
      ng-pattern="/^[0-9]+$/"
      ng-model="pro.inventory">
    </div>
  </div>
  <!-- 
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 价格:</label>
    <div class="col-sm-10">
      <input type="number" name="" id="" placeholder=""
      ng-pattern="/^[0-9]+$/"
      ng-model="pro.price">
    </div>
  </div>
  -->
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 商品价格区间:</label>
    <div class="col-sm-10">
      <div class="condbox clearfix" ng-repeat="item in pro.productPrices">
         <input type="number" name="fobPriceFrom" class="input-80"
         ng-minlength=1
         ng-model="item.numberStart" placeholder="初始"> -
         <input type="number" name="fobPriceTo" class="input-80"
         ng-minlength=1
         ng-model="item.numberEnd" placeholder="结尾" >
         <select name="unit" ng-model="item.unit" ng-options="unit.code as unit.name for unit in tools.unit" class="input-120">
          <option value="">选择单位</option>
         </select>{{item.unit}}
          该区间价格：
         <input type="number" name="price" class="input-80"
         placeholder="该区间价格"
         ng-minlength=1
         ng-model="item.price" >
         <select name="currncyUtils" id="" ng-model="item.monetaryUnit" ng-options="unit.code as unit.name for unit in tools.currncyUtils">
           <option value="">选择货币</option>
         </select>{{item.monetaryUnit}}
      </div>
      <a ng-click="addFobPrices(goods.fobPriceFrom.$invalid,goods.fobPriceTo.$invalid,goods.unit.$invalid,goods.price.$invalid,goods.currncyUtils.$invalid)" class="btn btn-info btn-sm"><span class="glyphicon glyphicon-plus"></span> 增加价格区间</a>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 商品海关编码</label>
    <div class="col-sm-10">
      <input type="text" name="" id="" placeholder="" class="input-80"
      ng-model="pro.productCn">
    </div>
  </div>
  <h3 class="add-goods-title">商品内容描述</h3>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 产品图片</label>
    <div class="col-sm-10">
      图片格式JPEG，文件大小2M以内，切勿盗用他人图片，以免受网规处罚。 <br>
      上传优质产品图片会获得更多的站内外流量。 <br>
      优质产品图片定义：产品原图，即无人为修改痕迹、无水印、无修饰边框和文字。 <br>
      <input type="button" class="btn btn-primary" value="上传图片"
        ngf-select ngf-change="upload($files)" ngf-multiple="true">
      <input type="hidden" name="" ng-model="pro.imgs" required>
      <div calss="conbox">
        <div ng-repeat="value in pro.imgs track by $index" class="col-sm-2">
        <img ng-src="http://192.168.10.17{{value}}" alt="" width="80px" height="80px">
        <a href="javascript:;" class="btn btm-sm" ng-click="tools.delImg($index)">删除</a>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">* </span>是否新商品</label>

    <div class="col-sm-10">
      <input type="checkbox" name="newest" id="newest" ng-model="pro.newest" ng-true-value="1" ng-true-value="0" required>
      <label for="newest">是请勾选</label>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 私密设置：</label>
    <div class="col-sm-10">
      <input type="radio" name="privacyStatus" id="privacyStatus1" ng-model="pro.privacyStatus" value="1" requried>
      <label for="privacyStatus1">开发状态</label>
      <input type="radio" name="privacyStatus" id="privacyStatus2" ng-model="pro.privacyStatus" value="0" requried>
      <label for="privacyStatus2">私密状态</label>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">* </span>是否多图：</label>
    <div class="col-sm-10">
      <input type="radio" name="manyImg" id="manyImg1" ng-model="pro.manyImg" value="0" required>
      <label for="manyImg1">单图</label>
      <input type="radio" name="manyImg" id="manyImg2" ng-model="pro.manyImg" value="1" required>
      <label for="manyImg2">多图</label>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">产品视频链接：</label>
    <div class="col-sm-10">
      <p class="attr-state">只允许输入YOUTUBE网站视频链接地址,例如:http://www.youtube.com/watch?v=*****</p>
      <input type="url" name="videoUrl" ng-model="pro.videoUrl">
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">* </span>产品简介：</label>
    <div class="col-sm-10">
      <input type="text" name="shortDescription" class="input-long" ng-model="pro.shortDescription" required>
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">商品详细描述：</label>
    <div class="col-sm-10">
      <div ueditor ng-model="pro.productDetail.detailDescription" id="edite" style="height:200px"></div>
    </div>
  </div>
  
  <h3 class="add-goods-title">商品包装信息</h3>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 包装后重量</label>
    <div class="col-sm-10">
      <input type="number" name="weight" ng-model="pro.weight" required> 公斤
    </div>
  </div>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label"><span class="red">*</span> 包装后尺寸</label>
    <div class="col-sm-10">
      <input type="number" name="length" placeholder="长" class="input-80" ng-model="pro.length" required> *
      <input type="number" name="width" placeholder="宽" class="input-80" ng-model="pro.width" required> *
      <input type="number" name="height" placeholder="高" class="input-80" ng-model="pro.height" required>
      单位均为： 厘米
    </div>
  </div>

  <h3 class="add-goods-title">其他信息</h3>
  <div class="form-group">
    <label for="" class="col-sm-2 control-label">产品有效期：</label>
    <div class="col-sm-10">
      <input type="radio" name="productValid" ng-model="pro.productValid" value="90" id="expiration1"><label for="expiration1">90天</label>
      <input type="radio" name="productValid" ng-model="pro.productValid" value="14" id="expiration3"><label for="expiration3">14天</label>
      <input type="radio" name="productValid" ng-model="pro.productValid" value="30" id="expiration2"><label for="expiration2">30天</label>
      {{pro.productValid}}
    </div>

  </div>
  <div class="col-sm-offset-2">
    <input type="checkbox" name="agree" id="agree" ng-model="pro.isAcceptBizRule" ng-true-value=1 ng-false-value=0 required><label for="agree">同意接受条款</label>
  </div>
  <div class="col-sm-offset-2">
    <button type="submit" class="btn btn-lg btn-primary" ng-disabled="goods.$invalid">提交</button>
  </div>
</form>